Ïðèíöèï äâóõ óêàçàòåëåé
Ïðèíöèï äâóõ óêàçàòåëåé àêòóàëåí, åñëè ðå÷ü èäåò î çàäà÷àõ, êîòîðûå ðåøàþòñÿ ìåòîäîì ïîëíîãî ïåðåáîðà. Ðàçóìååòñÿ, òàêîå ïîëîæåíèå âåùåé ìàëî êîãî ìîæåò óñòðîèòü  íåýôôåêòèâíî, àñèìïòîòè÷åñêàÿ
ñëîæíîñòü îñòàâëÿåò æåëàòü ëó÷øåãî.
Ïîñìîòðèì, ÷òî ïðîèñõîäèò ñî ñëîæíîñòüþ àëãîðèòìà, íà ïðèìåðå
ñëåäóþùåé çàäà÷è  ïðîâåðèì, ñóùåñòâóåò ëè ïîäïîñëåäîâàòåëüíîñòü,
ñóììà ýëåìåíòîâ êîòîðîé áóäåò áîëüøå íåêîòîðîãî êîíñòàíòíîãî çíà-
÷åíèÿ, èçâåñòíîãî çàðàíåå, â ïîñëåäîâàòåëüíîñòè, êîòîðóþ ââåëè. ×òî
ïåðâûì äåëîì ïðèõîäèò íà óì, åñëè ìû ñîáèðàåìñÿ ïðîñòî ðåøèòü çàäà÷ó, íå äóìàÿ î ñëîæíîñòè àëãîðèòìà? Êîíå÷íî æå, ïîëíûé ïåðåáîð.
Íàïèøåì ôóíêöèþ, ïðîâåðÿþùóþ íàëè÷èå òàêîé ïîäïîñëåäîâàòåëüíîñòè, ó÷èòûâàÿ, ÷òî èçíà÷àëüíî íàì äàíî êîíñòàíòíîå çíà÷åíèå D è ñàìà
ïîñëåäîâàòåëüíîñòü a1, a2, . . . , an.
bool e x i s t 1 ( int a r r [ ] , int D)
{
for ( int i = 0 ; i < n ; i++)
{
s = 0 ;
for ( int j = i ; j < n ; j++)
{
s += a r r [ j ] ;
i f ( s > D)
{
return 1 ;
}
}
}
return 0 ;
}
Êàêîâà ñëîæíîñòü òàêîãî àëãîðèòìà? Êàæäûé ðàç îñóùåñòâëÿåòñÿ
ïðîâåðêà, ñíà÷àëà n ðàç, ïîòîì n-1, è òàê äàëåå, ïîêà íå äîéäåì äî 1.
Ñîîòâåòñòâåííî, îáùåå êîëè÷åñòâî øàãîâ  ýòî ñóììà n ÷ëåíîâ àðèôìåòè÷åñêîé ïðîãðåññèè, òî åñòü O(1 + 2 + . . . + n) = O(
n·(1+n)
2
) = O(n
2
).
Ïîëó÷àåòñÿ, ÷òî ñëîæíîñòü êâàäðàòè÷íàÿ.
Ìîæíî ëè êàê-òî îïòèìèçèðîâàòü ïðîöåññ? Íàéòè êàêóþ-òî òî÷-
êó âûõîäà, ïîñëå êîòîðîé ïðîâåðÿòü äàëüøå íåò ñìûñëà? Äàâàéòå ïðåäñòàâèì ãèïîòåòè÷åñêóþ ïîñëåäîâàòåëüíîñòü, ãäå êàêèå-òî ýëåìåíòû ïîëîæèòåëüíûå, à êàêèå-òî  îòðèöàòåëüíûå. Èìååò ëè ñìûñë ó÷èòûâàòü
1
ïîñëåäîâàòåëüíîñòü, ñóììà ýëåìåíòîâ êîòîðîé îòðèöàòåëüíà? Åñòü âåðîÿòíîñòü, ÷òî ñóììà ïîòîì ñòàíåò áîëüøå èçâåñòíîé êîíñòàíòû? Íî âåäü
ñóììà ñòàíåò åù¼ áîëüøå, åñëè ìû èñêëþ÷èì ýòó ïîñëåäîâàòåëüíîñòü.
Ðåàëèçóåì îïòèìèçèðîâàííûé àëãîðèòì.
bool e x i s t 1 ( int a r r [ ] , int D)
{
for ( int i = 0 ; i < n ; i++)
{
s = 0 ;
for ( int j = i ; j < n ; j++)
{
s += a r r [ j ] ;
i f ( s > D)
{
return 1 ;
}
i f ( s < 0 ) // O p t im i z a t i o n
{
i = j ;
break ;
}
}
}
return 0 ;
}
Êàêîâà æå ñëîæíîñòü óëó÷øåííîãî àëãîðèòìà? Ïî ñóòè äåëà ðîëü
èãðàåò òîëüêî âëîæåííûé öèêë, â õóäøåì ñëó÷àå êîëè÷åñòâî ïåðåáèðàåìûõ âàðèàíòîâ áóäåò ðàâíî n. Ïîëó÷àåòñÿ, ÷òî ñëîæíîñòü àëãîðèòìà
ñòàëà O(n), òî åñòü ìû ïîëó÷èëè îùóòèìûé âûèãðûø.
